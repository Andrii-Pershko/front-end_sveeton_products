"use strict";(self.webpackChunkfront_end_sveeton_products=self.webpackChunkfront_end_sveeton_products||[]).push([[88],{6088:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var s=n(2791),i=n(5705),l=n(9434),r=n(1337),c=n(5612),o=n(184);const d=e=>{let{togleModal:t}=e;const[n,d]=(0,s.useState)(null),a=(0,l.I0)();return(0,o.jsx)(i.J9,{initialValues:{title:"",characreristick:"",price:""},onSubmit:async e=>{const s=new FormData;for(const t in e)s.set(t,e[t]);s.append("img",n),await a((0,r.gK)(s)),t(),await a((0,c.j)())},children:(0,o.jsxs)(i.l0,{children:[(0,o.jsx)("h1",{children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u043d\u043d\u0456 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"\u041d\u0430\u0437\u0432\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsx)(i.gN,{type:"text",name:"title"})]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"\u041e\u043f\u0438\u0441 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsx)(i.gN,{type:"text",name:"characreristick"})]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsx)(i.gN,{type:"text",name:"price"})]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsx)(i.gN,{type:"file",name:"img",onChange:e=>{const t=e.target.files[0];d(t)}})]}),(0,o.jsx)("button",{type:"submit",children:"Submit"})]})})};var a=n(175),h=n(1249);const x=()=>{const[e,t]=(0,s.useState)(!1);(0,h.Z)(e);const n=()=>{t(!e)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>t(!0),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0448\u0435\u0434\u0435\u0432\u0440"}),e?(0,o.jsx)(a.Z,{togleModal:n,children:(0,o.jsx)(d,{togleModal:n})}):null]})};var j,u=n(9654),p=n(6911),g=n(168);const f=n(2683).default.div(j||(j=(0,g.Z)([""]))),m=e=>{let{togleModal:t,title:n,id:s}=e;const i=(0,l.I0)();return(0,o.jsxs)(f,{children:[(0,o.jsxs)("h2",{children:["\u0422\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0430 \u0449\u043e \u0431\u0430\u0436\u0430\u0454\u0448 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 ",n]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:async()=>{await i((0,r.Ir)(s)),t(),await i((0,c.j)())},children:"\u0422\u0430\u043a"}),(0,o.jsx)("button",{onClick:t,children:"\u041d\u0456"})]})]})},b=e=>{let{product:t,togleModal:n}=e;const[d,a]=(0,s.useState)(null),{title:h,characreristick:x,price:j}=t,u=(0,l.I0)(),p={title:h,characreristick:x,price:j};return(0,o.jsx)(i.J9,{initialValues:p,onSubmit:async e=>{const s=new FormData;for(const t in e)s.set(t,e[t]);null!==d&&s.append("img",d),console.log("formData",s),await u((0,r.nM)({id:t._id,form:s})),n(),await u((0,c.j)())},children:(0,o.jsxs)(i.l0,{children:[(0,o.jsx)("h1",{children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u043d\u043d\u0456 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"\u041d\u0430\u0437\u0432\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsx)(i.gN,{type:"text",name:"title"})]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"\u041e\u043f\u0438\u0441 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsx)(i.gN,{type:"text",name:"characreristick"})]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsx)(i.gN,{type:"text",name:"price"})]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("p",{children:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"}),(0,o.jsx)(i.gN,{type:"file",name:"img",onChange:e=>{const t=e.target.files[0];a(t)}})]}),(0,o.jsx)("button",{type:"submit",children:"Submit"})]})})},v=e=>{let{product:t}=e;const[n,i]=(0,s.useState)(!1),[l,r]=(0,s.useState)(!1);(0,h.Z)(n||l),(0,s.useEffect)((()=>{}));const c=()=>{i(!n)},d=()=>{r(!l)},{title:x,characreristick:j,price:u,img:g}=t;return(0,o.jsxs)("li",{children:[(0,o.jsx)("p",{children:x}),(0,o.jsx)(p.I,{children:(0,o.jsx)(p.E,{src:g,alt:x})}),(0,o.jsx)("p",{children:j}),(0,o.jsxs)("p",{children:[u," \u0433\u0440\u043d"]}),(0,o.jsx)("button",{onClick:()=>d(),children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"}),(0,o.jsx)("button",{onClick:()=>c(),children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"}),n?(0,o.jsx)(a.Z,{togleModal:c,children:(0,o.jsx)(m,{togleModal:c,title:x,id:t._id})}):"",l?(0,o.jsx)(a.Z,{togleModal:d,children:(0,o.jsx)(b,{togleModal:d,product:t})}):""]})},w=()=>{const e=(0,l.I0)(),t=(0,l.v9)(u.Q);return(0,s.useEffect)((()=>{e((0,c.j)())}),[e]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"CatalogList"}),t.length>0?(0,o.jsx)("ul",{children:t.map((e=>(0,o.jsx)(v,{product:e},e._id)))}):(0,o.jsx)("p",{children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0442\u043e\u0432\u0430\u0440 \u043d\u0430\u0436\u0430\u0432\u0448\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0432\u0438\u0449\u0435"})]})},y=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"CatalogPage"}),(0,o.jsx)(x,{}),(0,o.jsx)(w,{})]})},6911:(e,t,n)=>{n.d(t,{E:()=>o,I:()=>c});var s,i,l=n(168),r=n(2683);const c=r.default.div(s||(s=(0,l.Z)(["\n  width: 350px;\n  height: 350px;\n  overflow: hidden;\n"]))),o=r.default.img(i||(i=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center;\n"])))},175:(e,t,n)=>{n.d(t,{Z:()=>x});var s,i,l=n(2791),r=n(4164),c=n(168),o=n(2683);const d=o.default.div(s||(s=(0,c.Z)(["\n  background-color: rgba(255, 255, 255, 1);\n  max-height: 90%;\n  padding: 40px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  overflow: auto;\n  border-radius: 14px;\n"]))),a=o.default.div(i||(i=(0,c.Z)(["\n  z-index: 1200;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  background-color: rgba(18, 20, 23, 0.5);\n  justify-content: center;\n  align-items: center;\n"])));var h=n(184);const x=e=>{let{togleModal:t,children:n}=e;const s=document.querySelector("#modal-root");(0,l.useEffect)((()=>(window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)})));const i=e=>{"Escape"===e.code&&t()};return(0,r.createPortal)((0,h.jsx)(a,{onClick:e=>{e.currentTarget===e.target&&t(e)},children:(0,h.jsx)(d,{children:n})}),s)}},1249:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(2791);const i=function(e){(0,s.useEffect)((()=>(document.body.style.overflow=e?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[e])}},9654:(e,t,n)=>{n.d(t,{Q:()=>s,x:()=>i});const s=e=>e.products.productsList,i=e=>e.products.isLoading}}]);
//# sourceMappingURL=88.9b8a1795.chunk.js.map