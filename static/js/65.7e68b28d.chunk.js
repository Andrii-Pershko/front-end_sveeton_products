"use strict";(self.webpackChunkfront_end_sveeton_products=self.webpackChunkfront_end_sveeton_products||[]).push([[65],{1065:(n,e,t)=>{t.r(e),t.d(e,{default:()=>D});var r,d=t(9434),i=t(3574),o=t(6911),l=t(4918),a=t(2791),s=t(8165),c=t(168),h=t(2683);const x=h.default.button(r||(r=(0,c.Z)(["\n  cursor: pointer;\n\n  margin-left: 5px;\n  margin-right: 5px;\n  background-color: transparent;\n  padding: 0;\n  color: black;\n  :hover {\n    background-color: transparent;\n    color: black;\n  }\n"])));var u=t(184);const p=n=>{let{product:e,functional:t}=n;const r=(0,d.I0)(),{totalPrice:i,totalCount:c,setTotalCount:h,setTotalPrice:p,orderList:g,setOrderList:f}=t,[j,m]=(0,a.useState)(1),[b,k]=(0,a.useState)(Number(e.price)*j);return(0,u.jsxs)(l.Tr,{children:[(0,u.jsx)(l.Td,{children:e.title}),(0,u.jsx)(l.Td,{children:e.characreristick}),(0,u.jsx)(l.Td,{children:(0,u.jsx)(l.N$,{children:(0,u.jsx)(o.E,{src:e.img,alt:e.description})})}),(0,u.jsxs)(l.Td,{children:[e.price," \u0433\u0440\u043d"]}),(0,u.jsxs)(l.Td,{children:[(0,u.jsx)(x,{onClick:()=>{1!==j&&(m(j-1),p(i-e.price),h(c-1),f(g.map((n=>(e._id===n._id&&(n.amount=j),n)))))},children:"- "}),j,(0,u.jsx)(x,{onClick:()=>{m(j+1),k(Number(e.price)*j),p(Number(i)+Number(e.price)),h(c+1),f(g.map((n=>(e._id===n._id&&(n.amount=j+1),n))))},children:" +"})]}),(0,u.jsx)(l.Td,{children:(0,u.jsx)("button",{onClick:()=>{h(c-j),p(i-b-Number(e.price)),r((0,s.xy)(e))},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})})]},e._id)};var g=t(175),f=t(5705),j=t(6382),m=t(1243);m.Z.defaults.baseURL="https://sveeton-products.onrender.com";const b=(0,j.hg)("order",(async(n,e)=>{try{return(await m.Z.post("/order",n)).data}catch(t){return console.log("error",t),e.rejectWithValue(t.message)}}));var k,v,T,Z,w,y;const _=(0,h.default)(f.l0)(k||(k=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),C=(0,h.default)(f.gN)(v||(v=(0,c.Z)(["\n  width: 100%;\n  height: 40px;\n  background-color: var(--background-color);\n  border-radius: 10px;\n  padding: 5px 10px 5px 25px;\n  border: none;\n  font-size: 22px;\n\n  &:focus {\n    outline: 3px solid #ddd0a4;\n  }\n"]))),L=h.default.h1(T||(T=(0,c.Z)(["\n  margin-bottom: 20px;\n  text-align: center;\n"]))),N=h.default.label(Z||(Z=(0,c.Z)(["\n  margin-bottom: 25px;\n"]))),S=h.default.h2(w||(w=(0,c.Z)(["\n  margin-bottom: 15px;\n  font-size: 20px;\n"]))),E=h.default.p(y||(y=(0,c.Z)(["\n  margin-top: 5px;\n  font-size: 12px;\n  text-align: center;\n"]))),P=n=>{let{toglle:e,orderData:t}=n;const r=(0,d.I0)();return(0,u.jsx)(g.Z,{togleModal:e,children:(0,u.jsx)(f.J9,{initialValues:{name:"",adress:"",phone:""},onSubmit:n=>{r(b({userData:n,orderData:t}))},children:(0,u.jsxs)(_,{children:[(0,u.jsx)(L,{children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u043d\u043d\u0456 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,u.jsxs)(N,{children:[(0,u.jsx)(S,{children:"\u0412\u0430\u0448\u0435 \u0456\u043c\u044f"}),(0,u.jsx)(C,{type:"text",name:"name"})]}),(0,u.jsxs)(N,{children:[(0,u.jsx)(S,{children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,u.jsx)(C,{type:"text",name:"adress"}),(0,u.jsx)(E,{children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e, \u0441\u043b\u0443\u0436\u0431\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0442\u0430 \u043d\u043e\u043c\u0435\u0440 \u0432\u0456\u0434\u0434\u0456\u043b\u0435\u043d\u044f"})]}),(0,u.jsxs)(N,{children:[(0,u.jsx)(S,{children:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043b\u044f \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,u.jsx)(C,{type:"text",name:"phone"})]}),(0,u.jsx)("button",{type:"submit",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})})})},z=()=>{const n=(0,d.v9)(i.w),[e,t]=(0,a.useState)(n.map((n=>({...n,amount:1})))),[r,o]=(0,a.useState)(!1),[s,c]=(0,a.useState)((()=>{let e=0;return n.map((n=>e+=Number(n.price))),e})),[h,x]=(0,a.useState)(n.length),g={orderList:e,totalCount:h,totalPrice:s,setOrderList:t,setTotalCount:x,setTotalPrice:c},f=()=>{o(!r)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(l.iA,{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)(l.Tr,{children:[(0,u.jsx)(l.Th,{children:"\u041d\u0430\u0437\u0432\u0430"}),(0,u.jsx)(l.Th,{children:"\u041e\u043f\u0438\u0441"}),(0,u.jsx)(l.Th,{children:"\u0424\u043e\u0442\u043e"}),(0,u.jsx)(l.Th,{children:"\u0426\u0456\u043d\u0430"}),(0,u.jsx)(l.Th,{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"})]})}),(0,u.jsxs)("tbody",{children:[n.map((n=>(0,u.jsx)(p,{product:n,functional:g},n._id))),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{colSpan:"3"}),(0,u.jsxs)(l.Td,{children:[s," \u0433\u0440\u043d"]}),(0,u.jsx)(l.Td,{children:h})]})]})]}),(0,u.jsx)(l.YU,{onClick:f,children:"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"}),r?(0,u.jsx)(P,{toglle:f,orderData:{orderList:e,totalPrice:s}}):null]})},D=()=>(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(z,{})})},6911:(n,e,t)=>{t.d(e,{E:()=>a,I:()=>l});var r,d,i=t(168),o=t(2683);const l=o.default.div(r||(r=(0,i.Z)(["\n  width: 350px;\n  height: 350px;\n  overflow: hidden;\n"]))),a=o.default.img(d||(d=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center;\n"])))},4918:(n,e,t)=>{t.d(e,{N$:()=>u,Td:()=>f,Th:()=>g,Tr:()=>j,YU:()=>m,iA:()=>p});var r,d,i,o,l,a,s,c=t(168),h=t(6911),x=t(2683);x.default.li(r||(r=(0,c.Z)(["\n  display: flex;\n  p {\n    display: block;\n  }\n\n  :nth-child(2) {\n    margin-left: 250px;\n  }\n  :nth-child(3) {\n    margin-left: 250px;\n  }\n\n  :nth-child(4) {\n    margin-left: auto;\n    margin-right: 40px;\n  }\n"])));const u=(0,x.default)(h.I)(d||(d=(0,c.Z)(["\n  width: 100px;\n  height: 100px;\n  display: flex;\n  margin-right: auto;\n  margin-left: auto;\n"]))),p=x.default.table(i||(i=(0,c.Z)(["\n  width: 100%;\n  border-collapse: collapse;\n"]))),g=x.default.th(o||(o=(0,c.Z)(["\n  border: 1px solid #ccc;\n  padding: 10px;\n  text-align: center;\n  background-color: #f2f2f2;\n"]))),f=x.default.td(l||(l=(0,c.Z)(["\n  border: 1px solid #ccc;\n  padding: 10px;\n  text-align: center;\n"]))),j=x.default.tr(a||(a=(0,c.Z)(["\n  :nth-child(4) {\n    width: 135px;\n  }\n  :nth-child(3) {\n    width: 180px;\n  }\n"]))),m=x.default.button(s||(s=(0,c.Z)(["\n  display: flex;\n  margin-right: auto;\n  margin-left: auto;\n  margin-top: 20px;\n"])))},175:(n,e,t)=>{t.d(e,{Z:()=>x});var r,d,i=t(2791),o=t(4164),l=t(168),a=t(2683);const s=a.default.div(r||(r=(0,l.Z)(["\n  background-color: rgba(255, 255, 255, 1);\n  max-height: 90%;\n  padding: 40px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  overflow: auto;\n  border-radius: 14px;\n"]))),c=a.default.div(d||(d=(0,l.Z)(["\n  z-index: 1200;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  background-color: rgba(18, 20, 23, 0.5);\n  justify-content: center;\n  align-items: center;\n"])));var h=t(184);const x=n=>{let{togleModal:e,children:t}=n;const r=document.querySelector("#modal-root");(0,i.useEffect)((()=>(window.addEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)})));const d=n=>{"Escape"===n.code&&e()};return(0,o.createPortal)((0,h.jsx)(c,{onClick:n=>{n.currentTarget===n.target&&e(n)},children:(0,h.jsx)(s,{children:t})}),r)}},3574:(n,e,t)=>{t.d(e,{w:()=>r});const r=n=>n.basket.basketList}}]);
//# sourceMappingURL=65.7e68b28d.chunk.js.map